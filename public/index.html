<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Competitor Landing Page Analysis Tool</title>
  <link rel="stylesheet" href="css/styles.css">
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>Competitor Landing Page Analysis</h1>
      <p>Analyze competitor landing pages and get actionable recommendations</p>
    </header>

    <section class="url-input">
      <div class="input-group">
        <input type="url" id="url-input" placeholder="Enter competitor landing page URL" required>
        <button id="analyze-btn">Analyze Page</button>
      </div>
      <div id="loading" style="display: none;">
        <div class="spinner"></div>
        <p>Analyzing page... This may take a moment.</p>
      </div>
    </section>

    <div id="error-container" style="display: none;" class="error-message">
      <p id="error-text">Error message will appear here</p>
    </div>

    <section id="results-container" style="display: none;">
      <div class="tabs">
        <button class="tab-btn active" data-tab="screenshot">
          <i class="fas fa-image"></i> Screenshot
        </button>
        <button class="tab-btn" data-tab="value-props">
          <i class="fas fa-bullseye"></i> Value Propositions
        </button>
        <button class="tab-btn" data-tab="tone">
          <i class="fas fa-comment-alt"></i> Tone Analysis
        </button>
        <button class="tab-btn" data-tab="strengths">
          <i class="fas fa-award"></i> Strengths
        </button>
        <button class="tab-btn" data-tab="recommendations">
          <i class="fas fa-lightbulb"></i> Recommendations
        </button>
      </div>

      <div class="tab-content">
        <!-- Screenshot Tab -->
        <div class="tab-pane active" id="screenshot-tab">
          <h2>Landing Page Screenshot</h2>
          <div class="screenshot-container">
            <img id="page-screenshot" src="" alt="Landing page screenshot">
          </div>
          <div class="action-buttons">
            <button id="download-screenshot" class="action-btn">
              <i class="fas fa-download"></i> Download Screenshot
            </button>
          </div>
        </div>

        <!-- Value Propositions Tab -->
        <div class="tab-pane" id="value-props-tab">
          <h2>Value Propositions</h2>
          <div class="analysis-content">
            <div id="value-props-content">
              <!-- Content will be added dynamically -->
            </div>
          </div>
        </div>

        <!-- Tone Analysis Tab -->
        <div class="tab-pane" id="tone-tab">
          <h2>Tone Analysis</h2>
          <div class="analysis-content">
            <div id="tone-content">
              <!-- Content will be added dynamically -->
            </div>
          </div>
        </div>

        <!-- Strengths Tab -->
        <div class="tab-pane" id="strengths-tab">
          <h2>Page Strengths</h2>
          <div class="analysis-content">
            <div id="strengths-content">
              <!-- Content will be added dynamically -->
            </div>
          </div>
        </div>

        <!-- Recommendations Tab -->
        <div class="tab-pane" id="recommendations-tab">
          <h2>Actionable Recommendations</h2>
          <div class="analysis-content">
            <div id="recommendations-content">
              <!-- Content will be added dynamically -->
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <script src="js/app.js"></script>
  
  <!-- Debug script to test DOM events -->
  <script>
    // Verify the DOM after everything loads
    window.addEventListener('load', function() {
      console.log('Window fully loaded');
      
      // Test direct click handler
      const testBtn = document.getElementById('analyze-btn');
      if (testBtn) {
        console.log('Analyze button found in load event');
        
        // Add a secondary click monitor
        testBtn.addEventListener('click', function() {
          console.log('Secondary button click handler triggered');
        });
        
        // Create direct visual feedback on window load
        testBtn.style.border = '2px solid green';
        
        // Test programmatic click 
        setTimeout(function() {
          console.log('Attempting to click button programmatically');
          // Only click if there's a URL input
          const urlValue = document.getElementById('url-input').value;
          if (!urlValue) {
            document.getElementById('url-input').value = 'https://example.com';
          }
        }, 2000);
      } else {
        console.error('Button not found in load event!');
        
        // Try querying with querySelector
        const altBtn = document.querySelector('#analyze-btn');
        console.log('Alternative button query result:', altBtn);
      }
    });
  </script>
</body>
</html>
